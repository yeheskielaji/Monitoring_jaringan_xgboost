<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Network Monitoring Real-Time</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- External Stylesheet -->
    <link href="style.css" rel="stylesheet" />

    <!-- Bootstrap Icons for Play/Pause Buttons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="p-3">
      <!-- Header: Title and Control Panel -->
      <div class="d-flex justify-content-between mb-4">
        <h2 class="mb-0">Network Monitoring</h2>
        <div>
          <button id="startBtn" class="btn btn-success mx-2">
            <i class="bi bi-play-fill"></i> Start
          </button>
          <button id="pauseBtn" class="btn btn-warning mx-2">
            <i class="bi bi-pause-fill"></i> Pause
          </button>
        </div>
      </div>

      <div class="row">
        <!-- Main Charts -->
        <div class="col-md-8">
          <!-- Prediction and Original Label Pie Charts -->
          <div class="row mb-4">
            <!-- Prediction Pie Chart -->
            <div class="col-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-center">
                    Prediction Distribution
                  </h5>
                  <canvas id="predictionChart"></canvas>
                </div>
              </div>
            </div>

            <!-- Original Label Pie Chart -->
            <div class="col-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-center">
                    Original Label Distribution
                  </h5>
                  <canvas id="labelChart"></canvas>
                </div>
              </div>
            </div>

            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Classification Counts</h5>
                  <div class="row">
                    <!-- Prediction Data -->
                    <div class="col-md-6">
                      <h6>Prediction Counts</h6>
                      <ul id="predictionCountsList" class="list-group">
                        <!-- Prediction counts will appear here -->
                      </ul>
                    </div>
                    <!-- Label Data -->
                    <div class="col-md-6">
                      <h6>Original Label Counts</h6>
                      <ul id="labelCountsList" class="list-group">
                        <!-- Label counts will appear here -->
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-4">
            <!-- Flow Bytes/s and Flow Packets/s Line Chart -->
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-center">
                    Flow Bytes/s & Flow Packets/s
                  </h5>
                  <canvas id="flowPacketsChart"></canvas>
                </div>
              </div>
            </div>

            <!-- Total Fwd Packets vs Total Backward Packets Bar Chart -->
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-center">
                    Fwd vs Backward Packets
                  </h5>
                  <canvas id="totalPacketsChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- History Panel -->
        <div class="col-md-4">
          <div class="card">
            <div class="rounded p-3 d-flex flex-column align-items-center">
              <p id="alarmStatus" class="text-center"></p>
            </div>

            <div class="card-body">
              <h5 class="card-title">Notification History</h5>
              <div
                class="card-body"
                style="max-height: 500px; overflow-y: auto"
              >
                <ul id="attackHistory" class="list-group">
                  <!-- Tambahkan elemen placeholder untuk state aman -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Socket.IO -->
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.0.1/dist/socket.io.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Bootstrap and custom script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
